# CarFight — 02_Conventions (v1.0)

> 목적: “사람이 1명이어도(1인 개발) 프로젝트가 꼬이지 않도록” **규칙을 문서로 고정**한다.  
> 마지막 정리: 2026-02-05 (Asia/Seoul)

---

## 목차
- [1. 문서 허브 규칙(Document/)](#1-문서-허브-규칙document)
- [2. 네이밍 규칙(에셋/클래스/파일)](#2-네이밍-규칙에셋클래스파일)
- [3. 블루프린트(BP) 작성 규칙](#3-블루프린트bp-작성-규칙)
- [4. C++ 작성 규칙(코드 제공/패치 포맷)](#4-c-작성-규칙코드-제공패치-포맷)
- [5. 버전/변경점/마이그레이션](#5-버전변경점마이그레이션)
- [6. UE 용어/노드 표기 규칙](#6-ue-용어노드-표기-규칙)
- [7. Git/커밋 규칙(권장)](#7-git커밋-규칙권장)

---

## 1. 문서 허브 규칙(Document/)

- `Document/` 폴더는 **AI 협업 기준 문서 허브**로 고정한다.
- 최소 문서 3종은 항상 최신으로 유지한다.
  - `Document/00_Handover.md` : 현 상태/결정/구조/검증(재현) 정리(단일 진실 소스)
  - `Document/01_Roadmap.md` : P0/P1 백로그 + 완료 조건(DoD) + 스프린트 플랜
  - `Document/02_Conventions.md` : 네이밍/툴팁/버전/커밋 규칙

**권장 운영**
- 기능 추가/리팩터링/세팅 변경이 생기면:
  1) `01_Roadmap`에서 해당 작업 항목 체크
  2) 완료 후 `00_Handover`의 “완료 체크리스트/검증 시나리오” 갱신
  3) 규칙이 추가되면 `02_Conventions` 갱신

---

## 2. 네이밍 규칙(에셋/클래스/파일)

### 2.1 기본 네이밍
- PascalCase 사용(예: `VehicleData`, `ApplyWheelVisualSync`)
- Prefix 규칙:
  - Blueprint: `BP_`
  - Data Asset(클래스): `PDA_`
  - Data Asset(인스턴스): `DA_`
  - Struct: `S_`
  - Static Mesh: `SM_`
  - Widget Blueprint: `WBP_`(향후 UI)
  - Actor Component: `AC_`(필요 시)

### 2.2 파일/클래스명 길이 제한
- **파일/클래스명 32자 제한**을 지킨다.
- 긴 접미사는 축약:
  - `Component` → `Comp`
  - `Configuration` → `Config`
  - `Definition` → `Def`

> 예: `CF_VehicleDefinitionApplierComp` 처럼 “Comp”로 끝내서 길이를 관리한다.

---

## 3. 블루프린트(BP) 작성 규칙

### 3.1 변수/함수 Tooltip(필수)
- BP에서 사용하는 변수/함수는 **Tooltip을 반드시 작성**한다.
- Tooltip 문장은 “사용 의도 + 주의점” 위주로 짧게.

**예시**
- `VehicleData`
  - Tooltip: `차량 외형/바퀴 설정 데이터. 비어있으면 Construction Script가 조립을 중단한다.`
- `bAutoFit`
  - Tooltip: `체크 시 차체 Bounds 기준으로 바퀴 앵커를 자동 배치한다.`

### 3.2 그래프 구성
- Construction Script:
  - “에디터에서 즉시 확인되는 조립/배치”만 둔다.
  - 런타임 물리/입력 처리 로직은 Event Graph로 분리한다.
- Event Graph:
  - Tick 로직은 반드시 **Gate/조건 분기**를 고려한다(불필요한 Tick 방지).

### 3.3 주석/코멘트 박스
- 복잡한 수학/좌표계 로직은 **코멘트 박스 + 노드 그룹화**를 사용한다.
- 코멘트는 한국어로 작성한다.

---

## 4. C++ 작성 규칙(코드 제공/패치 포맷)

> 이 규칙은 “AI가 코드를 제시할 때”도 동일하게 적용한다.

### 4.1 코드 제공 시 필수 메타
- **파일 경로/파일명**(Public/Private 구분 포함)
- 작업유형: `신규/수정/교체/추가`
- 삽입 위치: 클래스/함수/블록 위치 명시
- 버전: `vX.Y`
- Changelog: 변경점 bullet list
- Migration: 적용 순서/주의점

### 4.2 함수/변수 주석 규칙
- 함수 선언/정의 바로 위에 **1줄 역할 요약 주석**을 반드시 둔다.
- 변수(UPROPERTY 포함)도 가능하면 “역할 1줄”을 붙인다.

---

## 5. 버전/변경점/마이그레이션

- “무통보 변경 금지”
  - 기존 함수 시그니처/동작이 바뀌면 반드시:
    - 버전 상승(v1.0 → v1.1)
    - Changelog
    - Migration(어디를 어떻게 바꿔야 하는지)

**문서 버전 운영**
- `00_Handover/01_Roadmap/02_Conventions` 문서 상단에 버전 표기(v1.0 등)
- 큰 구조 변경 시 문서 버전도 올린다.

---

## 6. UE 용어/노드 표기 규칙

- UE 메뉴/옵션/노드 이름은 **한국어(English)** 병기한다.
  - 예: `구조체 핀 분할(Split Struct Pin)`
- 블루프린트 노드 설명 시:
  - “개념적 표현” 대신 **에디터에 실제로 존재하는 노드명**을 사용한다.
  - 존재 여부가 불확실하면 “확인 필요”로 표기하고, 스크린샷/텍스트 노드 복붙을 요청한다.

---

## 7. Git/커밋 규칙(권장)

- 커밋 메시지 권장 포맷:
  - `feat: ...` 기능
  - `fix: ...` 버그
  - `refactor: ...` 리팩터
  - `docs: ...` 문서
  - `chore: ...` 빌드/세팅

- 커밋 단위 권장:
  - “기능 1개(또는 리스크 1개 제거) = 커밋 1~2개”

- 문서 동기화:
  - 기능이 바뀌면 **docs 커밋**을 같이 올린다(같은 PR/같은 날 커밋 권장).
